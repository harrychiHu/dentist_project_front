import{r as h,o as g,c as B,a as r,b as C,D as b,n as i,S as n,B as s,N as c,Q as x,C as k}from"./index.c721165c.js";import{_ as y}from"./DataTable.abd8e560.js";import{S}from"./Search.b779d482.js";import"./Checkbox.cb5610a9.js";import"./Select.e22741ec.js";const w={id:"MemberSetting"},N=r("h1",null,"\u6703\u54E1\u7BA1\u7406",-1),A={class:"memberFormContent"},T={__name:"AdminMemberSettingView",setup(v){function l(e){return()=>s(k,null,{default:()=>s(e)})}const m=()=>[{title:"\u6703\u54E1\u540D\u5B57",key:"name"},{title:"\u67E5\u770B\u6703\u54E1",key:"memberCheck",render(e){return s(c,{size:"small",onClick:()=>u(e._id)},{default:l(S)})}},{title:"\u522A\u9664",key:"del",render(e){return s(c,{strong:!0,tertiary:!0,size:"small",onClick:()=>d(e._id)},{default:()=>"\u522A\u9664"})}}],o=h([]),u=e=>{x.push("/admin/admin-member-search/"+e)},d=e=>{n.fire({title:"\u78BA\u5B9A\u522A\u9664\u55CE?",text:"\u522A\u9664\u5F8C\u7121\u6CD5\u56DE\u5FA9!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u5C0D\uFF0C\u522A\u9664!",cancelButtonText:"\u53D6\u6D88!"}).then(async t=>{t.isConfirmed&&(await i.delete("/users/"+e),n.fire("\u522A\u9664\u6210\u529F","success")),a()}).catch(t=>{n.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})})},a=async()=>{try{const{data:e}=await i.get("./users/all");o.push(...e.result)}catch(e){n.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}};a();const _={pageSize:5},p=m();return(e,t)=>{const f=y;return g(),B("section",w,[N,r("div",A,[r("div",null,[C(f,{columns:b(p),data:o,pagination:_,bordered:!1},null,8,["columns","data"])])])])}}};export{T as default};
