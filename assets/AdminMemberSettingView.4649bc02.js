import{r as h,o as g,c as b,a as s,b as B,C,L as i,S as n,A as r,N as c,O as k,B as x}from"./index.d761683c.js";import{_ as y}from"./DataTable.c80ac2bb.js";import{S}from"./Search.efb6a14a.js";import"./get-slot.65c4337d.js";import"./Select.1926cd0a.js";const w={id:"MemberSetting"},A=s("h1",null,"\u6703\u54E1\u7BA1\u7406",-1),N={class:"memberFormContent"},T={__name:"AdminMemberSettingView",setup(v){function l(e){return()=>r(x,null,{default:()=>r(e)})}const u=()=>[{title:"\u6703\u54E1\u540D\u5B57",key:"name"},{title:"\u67E5\u770B\u6703\u54E1",key:"memberCheck",render(e){return r(c,{size:"small",strong:!0,tertiary:!0,onClick:()=>m(e._id),class:"bg-check"},{default:l(S)})}},{title:"\u522A\u9664",key:"del",render(e){return r(c,{strong:!0,tertiary:!0,size:"small",class:"bg-del",onClick:()=>d(e._id)},{default:()=>"\u522A\u9664"})}}],o=h([]),m=e=>{k.push("/admin/admin-member-search/"+e)},d=e=>{n.fire({title:"\u78BA\u5B9A\u522A\u9664\u55CE?",text:"\u522A\u9664\u5F8C\u7121\u6CD5\u56DE\u5FA9!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u5C0D\uFF0C\u522A\u9664!",cancelButtonText:"\u53D6\u6D88!"}).then(async t=>{t.isConfirmed&&(await i.delete("/users/"+e),n.fire("\u522A\u9664\u6210\u529F","\u6210\u529F")),a()}).catch(t=>{n.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})})},a=async()=>{try{const{data:e}=await i.get("./users/all");o.push(...e.result)}catch(e){n.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}};a();const _={pageSize:8},p=u();return(e,t)=>{const f=y;return g(),b("section",w,[A,s("div",N,[s("div",null,[B(f,{columns:C(p),data:o,pagination:_,bordered:!1},null,8,["columns","data"])])])])}}};export{T as default};
