import{r as h,o as g,c as b,a as r,b as C,ad as k,aq as i,S as n,A as s,N as c,ar as x,ac as B}from"./index.9f9a9d95.js";import{_ as y}from"./DataTable.a675d3f9.js";import{S}from"./Search.ec5a1795.js";import"./Checkbox.6eb1d4c0.js";import"./Select.1febdd3b.js";const w={id:"MemberSetting"},A=r("h1",null,"\u6703\u54E1\u7BA1\u7406",-1),N={class:"memberFormContent"},q={__name:"AdminMemberSettingView",setup(v){function l(e){return()=>s(B,null,{default:()=>s(e)})}const m=()=>[{title:"\u6703\u54E1\u540D\u5B57",key:"name"},{title:"\u67E5\u770B\u6703\u54E1",key:"memberCheck",render(e){return s(c,{size:"small",onClick:()=>u(e._id)},{default:l(S)})}},{title:"\u522A\u9664",key:"del",render(e){return s(c,{strong:!0,tertiary:!0,size:"small",onClick:()=>d(e._id)},{default:()=>"\u522A\u9664"})}}],a=h([]),u=e=>{x.push("/admin/admin-member-search/"+e)},d=e=>{n.fire({title:"\u78BA\u5B9A\u522A\u9664\u55CE?",text:"\u522A\u9664\u5F8C\u7121\u6CD5\u56DE\u5FA9!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u5C0D\uFF0C\u522A\u9664!"}).then(async t=>{await i.delete("/users/"+e),t.isConfirmed&&n.fire("\u522A\u9664\u6210\u529F","success"),o()}).catch(t=>{n.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})})},o=async()=>{try{const{data:e}=await i.get("./users/all");a.push(...e.result)}catch(e){n.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}};o();const _={pageSize:5},p=m();return(e,t)=>{const f=y;return g(),b("section",w,[A,r("div",N,[r("div",null,[C(f,{columns:k(p),data:a,pagination:_,bordered:!1},null,8,["columns","data"])])])])}}};export{q as default};
